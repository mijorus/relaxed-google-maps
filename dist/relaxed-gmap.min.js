/*!
 * relaxedMap: Lazy load Google Maps with cookie consent placeholder
 * (c) 2020 mijorus, MIT License
 */
function setAttributes(e,t){for(const a in e)t.setAttribute(a,e[a])}function inViewport(e){return e.getBoundingClientRect().top<=(window.innerHeight||document.documentElement.clientHeight)}function checkData(e,t,a){return void 0!==e||void 0!==t.dataset&&void 0!==t.dataset[`${a}`]?e||t.dataset[`${a}`]:void 0}const relaxedMap=function(e={target:"gmap",src:"",alt:"",defaultMapStyle:!1,placeholder:{text:void 0,subtitle:void 0,backgroundImage:void 0,backgroundColor:void 0,blurred:3,grayscale:!0}},t=!1){const a=document.getElementById(e.target);var n;if(a.classList.add("relaxed-map"),a.querySelector("iframe"))n=a.querySelector("iframe");else{const t="width: 600px; height: 450px; frameborder: 0; border:0;",r={allowfullscreen:"false","aria-hidden":"false",tabindex:"0",style:e.defaultMapStyle?t:"",class:"relaxed-map-iframe"};n=document.createElement("iframe");const l=document.createElement("div");l.classList.add("relaxed-map-container"),l.style="overflow: hidden",l.appendChild(n),setAttributes(r,n),a.appendChild(l)}if(t){const t=checkData(e.src,a,"src");if(t){function r(){if(inViewport(a)){document.removeEventListener("scroll",r,{passive:!0});const e=a.querySelector(".relaxed-map-alt");e&&e.remove(),n.style.backgroundImage="",n.style.filter="",n.setAttribute("src",t);const l=new Event("relaxedMapLoad");a.dispatchEvent(l)}}inViewport(a)?r():document.addEventListener("scroll",r,{passive:!0})}else console.warn("Warning: map position not set.")}else{a.style.position="relative";const t={target:"_blank",rel:"noopener",style:"width: 100%; height: 100%; position: absolute; top: 0; display: flex; z-index: 50; justify-content: center; align-items: center; cursor: pointer;",class:"relaxed-map-alt"},r=document.createElement("a"),l=checkData(e.alt,a,"alt"),o=e.placeholder||null;if(l){if(r.setAttribute("href",l),o&&o.text){const e=checkData(o.text,a,"text");r.innerText=e}else{const e="Open in Google Maps";r.innerText=e}setAttributes(t,r),a.appendChild(r)}else console.warn("Warning: alternative map link not set");if(o&&o.backgroundImage){const t=`background-image: url("${e.placeholder.backgroundImage}"); background-position: center;`;n.style=t,void 0===o.blurred?n.style.filter="blur(3px)":n.style.filter=`blur(${o.blurred}px)`,void 0!==o.grayscale&&!0!==o.grayscale||(n.style.filter+="grayscale(1)")}else o&&o.backgroundColor?n.style.backgroundColor=e.placeholder.backgroundColor:n.style.backgroundColor="#e9ecef";const i=document.createElement("div");if(setAttributes({style:"text-align: center;",class:"relaxed-map-subtitle"},i),o&&o.subtitle)i.innerText=e.placeholder.subtitle;else{const e="Please, accept the cookie policy to use the map";i.innerText=e}a.appendChild(i)}};